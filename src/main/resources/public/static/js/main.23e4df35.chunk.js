(this["webpackJsonpassessment-room-booking"]=this["webpackJsonpassessment-room-booking"]||[]).push([[0],{47:function(e,t,o){},48:function(e,t,o){},50:function(e,t,o){"use strict";o.r(t);var n=o(8),s=o.n(n),a=o(30),i=o.n(a),r=(o(47),o(38)),c=o(39),l=o(19),d=o(41),u=o(40),h=(o(48),o(63)),p=o(58),m=o(15),b=o(59),v=o(60),g=o(61),j=o(62),S=o(66),f=o(9),y=o(20),C=o(6),O=o(56),w=o(64),x=o(65),E=o(10),I=function(e){Object(d.a)(o,e);var t=Object(u.a)(o);function o(e){var n;return Object(r.a)(this,o),(n=t.call(this,e)).state={roomIds:[],slectedRoom:0,userId:1,requestType:"",toastMsg:{id:0,title:"Message",content:""},systemErrorCount:0},n.roomsDataManager=new f.a({url:"http://localhost:8000/api/room/list",adaptor:new y.g}),n.scheduleDataManager=new f.a({url:"http://localhost:8000/api/schedule/list",crudUrl:"http://localhost:8000/api/schedule/syncfusion",adaptor:new y.f}),n.scheduleObj={},n.roomlistBoxObj={},n.toastInstance={},n.roomDrowDownList={},n.onRoomListBoxChange=n.onRoomListBoxChange.bind(Object(l.a)(n)),n.onScheduleActionBegin=n.onScheduleActionBegin.bind(Object(l.a)(n)),n.onEditSchedulePopupOpen=n.onEditSchedulePopupOpen.bind(Object(l.a)(n)),n.onEditSchedulePopupClose=n.onEditSchedulePopupClose.bind(Object(l.a)(n)),n.onScheduleActionComplete=n.onScheduleActionComplete.bind(Object(l.a)(n)),n.onScheduleActionFailure=n.onScheduleActionFailure.bind(Object(l.a)(n)),n}return Object(c.a)(o,[{key:"onRoomListBoxChange",value:function(e){for(var t=0,o=e.event.target.innerText,n=0;n<e.items.length;n++)if(e.items[n].Name===o){t=e.items[n].Id;break}0===t&&1===e.value.length&&(t=e.value[0]),this.setState({roomIds:e.value,slectedRoom:t},(function(){}))}},{key:"onScheduleActionBegin",value:function(e){this.setState({requestType:e.requestType})}},{key:"onScheduleActionComplete",value:function(e){var t=this;"eventCreated"===e.requestType?this.setState({toastMsg:{title:"Create event",content:"Event `"+e.data[0].Subject+"` is created"}},(function(){t.toastInstance.show()})):"eventChanged"===e.requestType?this.setState({toastMsg:{title:"Edit event",content:"Event `"+e.data[0].Subject+"` is changed"}},(function(){t.toastInstance.show()})):"eventRemoved"===e.requestType&&this.setState({toastMsg:{title:"Delete event",content:"Event `"+e.data[0].Subject+"` is removed"}},(function(){t.toastInstance.show()}))}},{key:"onScheduleEventRendered",value:function(e){this.applyScheduleCategoryColor(e,this.scheduleObj.currentView)}},{key:"applyScheduleCategoryColor",value:function(e,t){var o=e.data.Color;e.element&&o&&("Agenda"===t?e.element.firstChild.style.borderLeftColor=o:e.element.style.backgroundColor=o)}},{key:"onEditSchedulePopupOpen",value:function(e){if("Editor"===e.type){var t=document.querySelector(".e-recurrenceeditor");if(void 0!==t&&t.classList.remove("e-disable"),e.element.querySelector(".e-location-container-DropDownList"))this.roomDrowDownList.value=this.state.slectedRoom;else{var o=e.element.querySelector(".e-location-container"),n=o.parentNode,s=document.createElement("div",{className:"e-location-container"});s.setAttribute("class","e-location-container e-location-container-DropDownList"),n.insertBefore(s,o),o.remove();var a=document.createElement("div",{className:"custom-field-container"}),i=document.createElement("input",{className:"e-field",attrs:{id:"Location",name:"Location"}});a.appendChild(i),s.appendChild(a),this.roomDrowDownList=new O.a({dataSource:this.roomsDataManager,fields:{text:"Name",value:"Id"},floatLabelType:"Always",placeholder:"Room",value:this.state.slectedRoom,htmlAttributes:{id:"RoomId",name:"RoomId","data-name":"RoomId"}}),this.roomDrowDownList.appendTo(i)}}}},{key:"onEditSchedulePopupClose",value:function(e){var t=e.element.querySelector('[name="RoomId"]');t&&e.data&&(e.data.RoomId=t.value,e.data.UserId=this.state.userId)}},{key:"onScheduleActionFailure",value:function(e){var t=this,o="The error is occurred";try{var n=JSON.parse(e.error[0].error.response);o=void 0!==n.messages&&n.messages.length>0?n.messages.join("; "):n.message,this.setState((function(e){return{toastMsg:{id:0,title:"Error",content:o},systemErrorCount:0}}),(function(){t.toastInstance.show()}))}catch(s){0===this.state.systemErrorCount&&this.setState((function(e){return{toastMsg:{id:0,title:"Error",content:o},systemErrorCount:1}}),(function(){t.toastInstance.show()}))}}},{key:"render",value:function(){var e=this;return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{children:Object(E.jsx)(w.a,{ref:this.roomlistBoxObj,dataSource:this.roomsDataManager,fields:{text:"Name",value:"Id",Color:"Color"},selectionSettings:{selectAll:!0},change:this.onRoomListBoxChange,itemTemplate:'<div class="list-wrapper" style="background-color: ${Color}"><span class="text">${Name}</span>'})}),Object(E.jsxs)("div",{children:[Object(E.jsxs)(h.a,{ref:this.scheduleObj,eventSettings:{dataSource:this.scheduleDataManager,query:(new C.b).addParams("RoomIds",this.state.roomIds).addParams("RequestType",this.state.requestType),enableTooltip:!0},selectedDate:new Date,currentView:"WorkWeek",actionFailure:this.onScheduleActionFailure.bind(this),actionBegin:this.onScheduleActionBegin.bind(this),actionComplete:this.onScheduleActionComplete.bind(this),eventRendered:this.onScheduleEventRendered.bind(this),popupOpen:this.onEditSchedulePopupOpen.bind(this),popupClose:this.onEditSchedulePopupClose.bind(this),children:[Object(E.jsxs)(p.b,{children:[Object(E.jsx)(p.a,{option:"Day"}),Object(E.jsx)(p.a,{option:"Week"}),Object(E.jsx)(p.a,{option:"WorkWeek"}),Object(E.jsx)(p.a,{option:"Month"}),Object(E.jsx)(p.a,{option:"Agenda"})]}),Object(E.jsx)(m.c,{services:[b.a,v.a,g.a,j.a,S.a]})]}),Object(E.jsx)(x.a,{ref:function(t){return e.toastInstance=t},title:this.state.toastMsg.title,content:this.state.toastMsg.content,newestOnTop:"true",showProgressBar:"true",progressDirection:"Ltr",position:{X:"Center",Y:"Top"}})]})]})}}]),o}(s.a.Component),D=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,67)).then((function(t){var o=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;o(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(I,{})}),document.getElementById("root")),D()}},[[50,1,2]]]);
//# sourceMappingURL=main.23e4df35.chunk.js.map